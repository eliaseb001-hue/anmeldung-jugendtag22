<!DOCTYPE html>
<html lang="de">
<head>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Anmeldung Jugendtag</title>
<style>
body { font-family: 'Comic Neue', cursive; background: #f0ebf8; margin: 0; padding: 40px 15px; }
.form-container { max-width: 800px; margin: auto; background: white; border-radius: 14px; box-shadow: 0 6px 18px rgba(0,0,0,0.1); overflow: hidden; }

.form-container h2 {
    text-align: center;
  }

  /* Mini Bild Button */
  .program-button {
    display: flex;
    flex-direction: column; /* Bild oben, Text unten */
    align-items: flex-start; /* linksb√ºndig */
    cursor: pointer;
    margin-top: 20px;
    text-decoration: none;
    color: #333;
  }

  .program-button img {
    width: 80px;
    height: 80px;
    object-fit: cover;
    border-radius: 10px;
    transition: transform 0.3s;
  }

  .program-button img:hover {
    transform: scale(1.05);
  }

  .program-button span {
    font-weight: bold;    /* optional, wenn du fett + kursiv willst */
    font-style: italic;   /* macht den Text kursiv */
    margin-top: 0;    
  }

  /* Modal Styles */
  .modal {
    display: none; /* versteckt standardm√§√üig */
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    backdrop-filter: blur(5px); /* Hintergrund unscharf */
    background-color: rgba(0,0,0,0.6); /* abgedunkelt */
    justify-content: center;
    align-items: center;
  }

  .modal-content {
    position: relative;
    background: #fff;
    padding: 20px;
    max-width: 600px;
    width: 90%;
    border-radius: 10px;
    text-align: center;
  }

  .modal-content img {
    width: 100%;
    height: auto;
    border-radius: 10px;
  }

  .close-btn {
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 35px;
    font-weight: bold;
    color: #333;
    cursor: pointer;
  }

  .close-btn:hover {
    color: #ff0000;
  }
.banner img { width: 100%; height: 200px; object-fit: cover; display: block; }
@media (max-width: 768px) {
  .banner img {
    height: auto;
    object-fit: contain;
  }
     body {
    padding: 20px 10px; /* weniger Au√üenabstand */
  }

  h1 {
    font-size: 20px;      /* kleinere √úberschrift */
  }

  .description {
    font-size: 14px;      /* kleinere Schrift im Text */
    line-height: 1.3;     /* engerer Zeilenabstand */
  }

  .form-group {
    margin-bottom: 18px;  /* weniger Abstand zwischen Feldern */
  }

  label {
    font-size: 14px;      /* kleinere Labels */
  }

  input[type="text"], textarea {
    font-size: 14px;      /* kleinere Eingabefelder */
    padding: 10px;        /* etwas weniger Padding */
  }

  button {
    padding: 12px 18px;   /* kleinere Buttons */
    font-size: 15px;
  }

  .program-button span {
    font-size: 13px;      /* kleinere Bild-Untertitel */
  }

    .content h1 {
    font-size: 20px;    /* kleinere √úberschrift auf Handy */
    line-height: 1.2;
    margin-bottom: 15px; /* etwas Abstand nach unten */
  }

  /* .description Text kleiner und Zeilen enger */
  .content .description {
    font-size: 14px;    /* kleinere Schrift */
    line-height: 1.0;   /* engerer Zeilenabstand innerhalb der Abs√§tze */
  }

  /* Abstand zwischen den <p>-Tags in .description reduzieren */
  .content .description p {
    margin-bottom: 8px; /* kleinerer Abstand zwischen Abs√§tzen */
  }

  /* Letzten Absatz keinen extra Abstand */
  .content .description p:last-child {
    margin-bottom: 0;
  }
}
.content { padding: 30px 35px; }
h1 { margin-top: 0; font-size: 26px; }
.description { color: #555; margin-bottom: 30px; line-height: 1.5; }
.form-group { margin-bottom: 28px; }
label { font-weight: bold; display: block; margin-bottom: 8px; }
.required::after { content: " *"; color: red; }
input[type="text"], textarea { width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #ccc; font-size: 15px; transition: 0.2s; }
input[type="text"]:focus, textarea:focus { border-color: #673ab7; outline: none; box-shadow: 0 0 0 2px rgba(103,58,183,0.15); }
.option { margin: 10px 0; display: flex; align-items: center; gap: 10px; }
.option input { transform: scale(1.2); cursor: pointer; }
.other-text { margin-left: 28px; margin-top: 8px; display: none; }
button { background: #673ab7; color: white; border: none; padding: 14px 22px; border-radius: 8px; font-size: 16px; cursor: pointer; margin-top: 15px; transition: 0.2s; }
button:hover { background: #5a2fa5; }
.footer-note { margin-top: 20px; font-size: 13px; color: #777; }
</style>
<link rel="icon" href="favicon.jpg" type="image/x-icon">
</head>
<body>

<div class="form-container">
    <div class="banner">
        <img src="banner.jpg" alt="Bild">
    </div>

    <div class="content">
        <h1>Anmeldung zum Jugendtag in Bietigheim-Bissingen</h1>
        <div class="description">
            <p>Thema: Die geistliche Waffenr√ºstung des Christen</p>
            <p>Referent: Stephan Isenberg</p>
            <p>Datum: 28. M√§rz 2026</p>
            <p>Uhrzeit: 14:00 - 21:00 Uhr</p>
            <p>Adresse: Gustav-Mahler-Stra√üe 4, 74321 Bietigheim-Bissingen</p>
            <p></p>
            <p><strong>Anmeldeschluss: 20. M√§rz 2026</strong></p>
        </div>
<!-- Trenner oben -->
<hr class="divider">

<div class="program-button" onclick="document.getElementById('programModal').style.display='flex'">
  <img src="Programm.jpg" alt="Programm">
  <span>Programm</span>
</div>

<!-- Trenner unten -->
<hr class="divider">

<!-- Modal -->
<div id="programModal" class="modal">
  <div class="modal-content">
    <span class="close-btn" onclick="document.getElementById('programModal').style.display='none'">&times;</span>
    <img src="Programm.jpg" alt="Gro√ües Programm Bild">
  </div>
</div>

<br>
<br>
        <form id="anmeldungForm">
            <div class="form-group">
                <label class="required">Dein Name</label>
                <input type="text" name="name" required placeholder="Vor- und Nachname">
            </div>
<br>
            <div class="form-group">
                <label class="required">Bitte ausw√§hlen, was du in der Pause gern machen w√ºrdest.
                Je nach Teilnehmerzahl reservieren wir entsprechend einen Platz (z. B. Fu√üball- oder Volleyballfeld)</label>
                <div class="option"><input type="checkbox" name="teilnahme" value="Fu√üball" required> Fu√üball</div>
                <div class="option"><input type="checkbox" name="teilnahme" value="Volleyball"> Volleyball</div>
                <div class="option"><input type="checkbox" name="teilnahme" value="Tischtennis"> Tischtennis</div>
                <div class="option"><input type="checkbox" name="teilnahme" value="Sonstiges"> Sonstiges (Gesellschaftsspiel etc.)</div>
            </div>
<br>
            <div class="form-group">
    <label>Damit wir mittags Kuchen und abends Salate haben, suchen wir ein paar Freiwillige üôÇ<br>
    Wenn du etwas mitbringen magst, kannst du das hier eintragen:</label>

    <div class="option">
        <input type="checkbox" id="kuchenCheck" value="Kuchen"> Kuchen
    </div>
    <div class="other-text" id="kuchenText" style="display:none;">
        <input type="text" name="kuchenText" placeholder="Bitte angeben...">
    </div>

    <div class="option">
        <input type="checkbox" id="salatCheck" value="Salat"> Salat
    </div>
    <div class="other-text" id="salatText" style="display:none;">
        <input type="text" name="salatText" placeholder="Bitte angeben...">
    </div>
</div>

            <button type="submit">Anmeldung absenden</button>

            <div class="footer-note">
                Hinweis: Deine Angaben werden ausschlie√ülich zur Planung und Durchf√ºhrung dieses Jugendtages verwendet.
                Die Daten werden tempor√§r in einer gesch√ºtzten Datenbank gespeichert, auf die nur der Veranstalter Zugriff hat.
                Es erfolgt keine Weitergabe an Dritte, keine Ver√∂ffentlichung und keine Nutzung f√ºr Werbung.
                Nach Abschluss des Jugendtages werden die Daten gel√∂scht. 
            </div>
        </form>
    </div>
</div>

<script>
// Kuchen-Feld ein-/ausblenden
const kuchenCheck = document.getElementById("kuchenCheck");
const kuchenText = document.getElementById("kuchenText");
kuchenCheck.addEventListener("change", function() {
    kuchenText.style.display = this.checked ? "block" : "none";
});

// Salat-Feld ein-/ausblenden
const salatCheck = document.getElementById("salatCheck");
const salatText = document.getElementById("salatText");
salatCheck.addEventListener("change", function() {
    salatText.style.display = this.checked ? "block" : "none";

document.addEventListener('DOMContentLoaded', () => {
  const modal = document.getElementById('programModal');
  const btn = document.getElementById('programBtn');
  const closeBtn = document.getElementById('closeModal');

  btn.addEventListener('click', () => {
    modal.style.display = 'flex';
  });

  closeBtn.addEventListener('click', () => {
    modal.style.display = 'none';
  });

  window.addEventListener('click', (e) => {
    if (e.target === modal) {
      modal.style.display = 'none';
    }
  });
});
});

// Formular absenden an Serverless Function
document.getElementById("anmeldungForm").addEventListener("submit", async e => {
    e.preventDefault();
    const formData = new FormData(e.target);
    const data = {
        name: formData.get("name"),
        teilnahme: formData.get("teilnahme"),
        interessen: formData.getAll("interessen").join(", "),
        sonstiges: formData.get("otherText") || ""
    };

    try {
        const res = await fetch("/api/submit", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data)
        });

        if(res.ok){
            // Absoluter Pfad sorgt f√ºr zuverl√§ssige Weiterleitung auf Vercel
            window.location.assign("/danke.html");
        } else {
            alert("Beim Absenden ist ein Fehler aufgetreten. Bitte versuche es sp√§ter.");
        }
    } catch(err) {
        console.error(err);
        alert("Fehler beim Absenden. Bitte versuche es sp√§ter.");
    }
});
</script>

</body>
</html>


